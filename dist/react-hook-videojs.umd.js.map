{"version":3,"file":"react-hook-videojs.umd.js","sources":["../src/index.jsx"],"sourcesContent":["import React, { useRef, useState, useEffect, useCallback } from \"react\";\nimport videojs from \"video.js\";\n\nexport const useVideoJS = (videoJsOptions, classNames = \"\") => {\n  const videoNode = useRef(null);\n  const [ready, setReady] = useState(false);\n  const changedKey = JSON.stringify(videoJsOptions);\n  const player = useRef(null);\n  useEffect(() => {\n    player.current = videojs(videoNode.current, videoJsOptions);\n    player.current.ready(() => {\n      setReady(true);\n    });\n    return () => {\n      player.current.dispose();\n    };\n  }, [changedKey]);\n\n  const Video = useCallback(\n    () => (\n      <div data-vjs-player key={changedKey}>\n        <video ref={videoNode} className={`video-js ${classNames}`} />\n      </div>\n    ),\n    [changedKey]\n  );\n  return { Video, ready, player: player.current };\n};\n"],"names":["useRef","useState","videojs","useCallback"],"mappings":";;;;;;;;;QAGa,aAAa,CAAC,gBAAgB,aAAa,OAAO;UACvD,YAAYA,aAAO;UACnB,CAAC,OAAO,YAAYC,eAAS;UAC7B,aAAa,KAAK,UAAU;UAC5B,SAASD,aAAO;oBACZ,MAAM;aACP,UAAUE,4BAAQ,UAAU,SAAS;aACrC,QAAQ,MAAM,MAAM;iBAChB;AAAA;aAEJ,MAAM;eACJ,QAAQ;AAAA;AAAA,OAEhB,CAAC;UAEE,QAAQC,kBACZ,8DACG,OAAD;AAAA,MAAK,mBAAe;AAAA,MAAC,KAAK;AAAA,+DACvB,SAAD;AAAA,MAAO,KAAK;AAAA,MAAW,WAAW,YAAY;AAAA,SAGlD,CAAC;WAEI,EAAE,OAAO,OAAO,QAAQ,OAAO;AAAA;;;;;"}